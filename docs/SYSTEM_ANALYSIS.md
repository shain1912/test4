# AI 인터뷰 플랫폼 시스템 분석

## 시스템 개요

LangGraph 기반 AI 인터뷰어 + RAG(ChromaDB) 지식 베이스를 활용한 질적 연구 데이터 수집 플랫폼

---

## 장점

### 1. RAG 기반 맥락 인식 인터뷰

| 기능 | 설명 |
|------|------|
| **위치 기반 컨텍스트** | 사용자가 "부산대학교"를 언급하면 AI가 경사, 계단 등 관련 정보를 인지 |
| **스마트 후속 질문** | 배경 지식을 바탕으로 자연스러운 probing 질문 생성 |
| **비유도 질문** | 정보를 직접 언급하지 않고 경험을 이끌어내는 방식 |

```
사용자: "부산대 앞에서 걸을 때 힘들었어요"
AI 내부: [RAG] 부산대 = 급경사, 계단 많음
AI 응답: "혹시 오르막길이나 계단 때문에 힘드셨던 건가요?"
```

### 2. 반구조화 인터뷰 (Semi-structured)

- **유연한 질문 순서**: 고정된 턴 대신 대화 흐름에 따라 진행
- **자연스러운 정보 수집**: 필수 필드는 정해져 있지만 순서는 자유
- **Probing 기법 내장**: 모호한 답변에 자동 후속 질문

### 3. YAML 기반 설정

```yaml
# 코드 수정 없이 설문 변경 가능
required_fields:
  - id: "issue_text"
  - id: "severity_score"
  - id: "location_bucket"
```

- **주제 변경 용이**: YAML 파일만 교체
- **다국어 지원**: `ko`, `en` 키로 언어 분리
- **AI 설문 생성**: 자연어 설명 → YAML 자동 생성

### 4. 다중 이슈 수집

- 한 세션에서 여러 이슈 수집 가능
- `session_id`로 그룹핑
- 실시간 사이드바에서 수집 현황 확인

### 5. ChromaDB 벡터 저장소

| 특징 | 이점 |
|------|------|
| **자동 영속성** | save() 호출 불필요 |
| **메타데이터 내장** | JSON 별도 관리 불필요 |
| **로컬 실행** | 외부 서버 의존성 없음 |
| **확장성** | 대규모 데이터도 처리 가능 |

### 6. 시맨틱 분석 대시보드

- **3D t-SNE 시각화**: 유사 의견 클러스터링
- **자동 토픽 라벨링**: GPT가 클러스터 이름 생성
- **심각도 분석**: 카테고리/위치별 평균 심각도

---

## 단점

### 1. API 의존성

| 항목 | 문제점 |
|------|--------|
| **OpenAI API 필수** | 오프라인 사용 불가 |
| **비용 발생** | 인터뷰당 GPT-4o + Embedding 비용 |
| **레이턴시** | API 호출로 인한 응답 지연 (2-5초) |

```
예상 비용 (인터뷰 1건, 5턴 기준)
- GPT-4o: ~$0.03-0.05
- Embedding: ~$0.001
- RAG 질문 생성: ~$0.005
총: ~$0.04-0.06/인터뷰
```

### 2. RAG 한계

- **정확도 의존**: 등록된 지식이 없으면 일반적 질문만 가능
- **수동 데이터 입력**: 지식 베이스 구축에 시간 소요
- **오탐 가능성**: 유사한 이름의 다른 장소 혼동 가능

```
예: "부산역 앞" vs "부산대역 앞" 혼동 가능
```

### 3. 인터뷰 품질 변동

- **LLM 환각**: 가끔 부적절한 후속 질문 생성
- **일관성 부족**: 같은 상황에서도 다른 질문 가능
- **감정 인식 한계**: 텍스트 기반이라 톤/뉘앙스 파악 어려움

### 4. 데이터 구조 제약

```python
# 현재 고정된 스키마
class InterviewInfo:
    issue_text: str
    severity_score: int  # 0-4 고정
    primary_category: str
    location_bucket: str
```

- **스키마 변경 어려움**: 필드 추가 시 코드 수정 필요
- **복잡한 응답 처리 한계**: 다중 선택, 조건부 질문 등 제한적

### 5. 확장성 고려사항

| 규모 | 예상 문제 |
|------|----------|
| **1,000건 이상** | ChromaDB 검색 속도 저하 가능 |
| **동시 사용자 10+** | API rate limit 주의 |
| **대용량 지식** | 임베딩 비용 증가 |

### 6. 보안/프라이버시

- **API 키 노출 위험**: .env 관리 필요
- **데이터 로컬 저장**: SQLite/ChromaDB 파일 보안 필요
- **개인정보**: 위치 정보 수집에 대한 동의 필요

---

## 개선 방향

### 단기

- [ ] 로컬 LLM 지원 (Ollama, llama.cpp)
- [ ] 동적 스키마 지원 (필드 추가/삭제 UI)
- [ ] RAG 신뢰도 점수 표시

### 중기

- [ ] 음성 인터뷰 지원 (Whisper)
- [ ] 다중 사용자 세션 관리
- [ ] 지식 베이스 자동 크롤링

### 장기

- [ ] 멀티모달 (이미지/영상 증거 첨부)
- [ ] 실시간 협업 인터뷰
- [ ] 자동 리포트 생성

---

## 기술 스택 요약

```
┌─────────────────────────────────────────────┐
│                  Frontend                    │
│              Streamlit (Python)              │
├─────────────────────────────────────────────┤
│                 AI/LLM Layer                 │
│  LangGraph │ GPT-4o │ OpenAI Embeddings     │
├─────────────────────────────────────────────┤
│                Vector Store                  │
│           ChromaDB (Local Persist)           │
├─────────────────────────────────────────────┤
│                 Database                     │
│              SQLite (Local)                  │
├─────────────────────────────────────────────┤
│                 Analysis                     │
│      scikit-learn │ Plotly │ t-SNE          │
└─────────────────────────────────────────────┘
```

---

## 결론

| 관점 | 평가 |
|------|------|
| **연구 도구로서** | 적합 - 질적 연구 데이터 수집에 효과적 |
| **프로덕션 서비스** | 부분적 - API 비용/의존성 고려 필요 |
| **확장성** | 중간 - 소규모~중규모 프로젝트에 적합 |
| **사용 편의성** | 높음 - YAML 설정, 웹 UI 제공 |

**추천 사용 사례:**
- 시민 의견 수집 (도시 계획, 공공 서비스)
- 사용자 인터뷰 (UX 리서치)
- 설문 조사 파일럿 테스트
- 교육용 인터뷰 훈련 도구
